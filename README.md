# カスハラ対策AI － 置くだけ Pi

Raspberry Pi と USB マイクを **レジ周辺に「置くだけ」** で、客からの理不尽な暴言（カスタマーハラスメント＝カスハラ）を検知し、  
即座に警告音でけん制する小規模向け OSS プロジェクトです。

## 目的

- **ストレス軽減**: 従業員が「とりあえず謝る」以外の選択肢を持ち、精神的負担を下げる  
- **その場で抑止**: 暴言を可視化・可聴化して早期沈静化を促す  
- **事後対応に備える**: ログを保存し、クレーム分析や再発防止策に活用できる土台を作る  

## 前提条件

| 項目         | 必須 / 推奨 | 備考 |
|--------------|------------|------|
| **本体**     | Raspberry Pi 4 (4 GB RAM 以上推奨) | Pi OS 64-bit / 常時稼働 |
| **マイク**   | USB コンデンサマイク | 無指向性 / 48 kHz 以上推奨 |
| **スピーカー** | USB/Bluetooth スピーカー or GPIO ブザー | 警告音用 |
| **設置場所** | レジ横の平面 | 電源確保必須。ネットはログ転送時のみ任意 |
| **ソフトウェア** | Python 3.11+, Whisper, PyAudio | `requirements.txt` 参照 |

> **運用イメージ**  
> - Pi はレジ付近に常設し、プログラムを **自動起動**（systemd）で 24 h 動かす  
> - 初回セットアップのみ HDMI モニタ＋キーボードをつないで CLI から起動・設定  

## MVP（ver 1 の範囲）

| 機能                 | 説明 |
|----------------------|------|
| 音声の常時キャプチャ | USB マイクでストリーミング録音 |
| 文字起こし           | Whisper (tiny/base) をローカル実行 |
| キーワード検知       | `config/keywords.txt` 内の NG ワードと完全一致で判定 |
| アクション           | 警告音再生 + テキストログ保存 |
| CLI 初期設定         | 設定ファイル編集・動作テスト用メニュー |

> ver 2 以降で検討する機能  
> - LLM を使ったログ整形／要約  
> - 単語組合せ・正規表現・多言語対応  
> - デシベルしきい値や感情分析による荒声検知  
> - Web / モバイルでのリアルタイム監視

## インストール & セットアップ

```bash
git clone https://github.com/your-user/kasuhara-pi.git
cd kasuhara-pi
python -m venv venv && source venv/bin/activate
pip install -r requirements.txt
python -m whisper --model tiny   # 初回のみモデル取得
